{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"id": "http://uk/gov/hmrc/trustregistration/raml/schemas/trusts.json",
	"type": "object",
	"properties": {
		"trustEstate": {
			"type": "object",
			"additionalProperties": false,
			"additionalItems": false,
			"oneOf": [
				{
					"properties": {						
						"trust": {
							"type": "object",
							"$ref": "#/definitions/trust"
						}
					},
					"additionalItems": false,
					"additionalProperties": false
				}, {
					"properties": {						
						"estate": {
							"type": "object",
							"$ref": "#/definitions/estate"
						}
					},
					"additionalProperties": false
				}
			]
		}
	},
	"additionalProperties": false,
	"definitions": {
		"address": {
			"type": "object",
			"properties": {
				"isNonUkAddress": {
					"type": "boolean"
				},
				"line1": {
					"type": "string"
				},
				"line2": {
					"type": "string"
				},
				"line3": {
					"type": "string"
				},
				"line4": {
					"type": "string"
				},
				"postcode": {
					"type": "string"
				},
				"country": {
					"type": "string"
				}
			},
			"required": [
				"isNonUkAddress"
			],
			"additionalProperties": false
		},
		"company": {
			"type": "object",
			"properties": {
				"name": {
					"type": "string"
				},
				"referenceNumber": {
					"type": "string"
				},
				"correspondenceAddress": {
					"$ref": "#/definitions/address"
				},
				"telephoneNumber": {
					"type": "string"
				}
			},
			"required": [
				"name", "correspondenceAddress", "telephoneNumber"
			],
			"additionalProperties": false
		},
		"individual": {
			"description": "Individual details",
			"type": "object",
			"properties": {
				"title": {
					"type": "string"
				},
				"givenName": {
					"type": "string"
				},
				"otherName": {
					"type": "string"
				},
				"familyName": {
					"type": "string"
				},
				"dateOfBirth": {
					"type": "string"
				},
				"nino": {
					"type": "string"
				},
				"passport": {
					"type": "object",
					"properties": {
						"identifier": {
							"type": "string"
						},
						"expiryDate": {
							"type": "string"
						},
						"countryOfIssue": {
							"type": "string"
						}
					},
					"required": [
						"identifier", "expiryDate", "countryOfIssue"
					],
					"additionalProperties": false
				},
				"correspondenceAddress": {
					"$ref": "#/definitions/address"
				},
				"telephoneNumber": {
					"type": "string"
				}
			},
			"required": [
				"title", "givenName", "familyName", "dateOfBirth"
			],
			"additionalProperties": false
		},
		"leadTrustee": {
			"type": "object",
			"additionalProperties": false,
			"oneOf": [
				{
					"properties": {
						"individual": {
							"$ref": "#/definitions/individual"
						}
					},
					"additionalProperties": false
				}, {
					"properties": {
						"company": {
							"$ref": "#/definitions/company"
						}
					},
					"additionalProperties": false
				}
			]
		},
		"trustees": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/individual"
			}
		},
		"protectors": {
			"type": "object",
			"additionalProperties": false,
			"oneOf": [
				{
					"properties": {
						"individuals": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/individual"
							}
						}
					},
					"additionalProperties": false
				}, {
					"properties": {
						"companies": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/company"
							}
						}
					},
					"additionalProperties": false
				}
			]
		},
		"settlors": {
			"type": "object",
			"additionalProperties": false,
			"oneOf": [
				{
					"properties": {
						"individuals": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/individual"
							}
						}
					},
					"additionalProperties": false
				}, {
					"properties": {
						"companies": {
							"type": "array",
							"items": {
								"$ref": "#/definitions/company"
							}
						}
					},
					"additionalProperties": false
				}
			]
		},
		"naturalPeople": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/individual"
			}
		},
		"deceased": {
			"type": "object",
			"properties": {
				"individual": {
					"$ref": "#/definitions/individual"
				},
				"dateOfDeath": {
					"type": "string"
				}
			},
			"required": [
				"individual", "dateOfDeath"
			],
			"additionalProperties": false
		},
		"legality": {
			"type": "object",
			"properties": {
				"governingCountry": {
					"description": "If the trust is governed by the laws of a country outside the UK this field is mandatory",
					"type": "string"
				},
				"administrationCountry": {
					"description": "If the trust is administered by a country outside the UK this field is mandatory",
					"type": "string"
				},
				"previousOffshoreCountry": {
					"description": "If the trust was previously offshore this field is mandatory",
					"type": "string"
				},
				"isEstablishedUnderScottishLaw": {
					"description": "If the trust was previously offshore this field is mandatory",
					"type": "boolean"
				}
			},
			"required": [
				"governingCountry", "administrationCountry", "isEstablishedUnderScottishLaw"
			],
			"additionalProperties": false
		},
		"declaration": {
			"type": "object",
			"properties": {
				"title": {
					"type": "string"
				},
				"givenName": {
					"type": "string"
				},
				"otherName": {
					"type": "string"
				},
				"familyName": {
					"type": "string"
				},
				"capacity": {
					"type": "string"
				},
				"date": {
					"type": "string"
				}
			},
			"required": [
				"title", "givenName", "familyName", "capacity", "date"
			],
			"additionalProperties": false
		},
		"income": {
			"type": "object",
			"properties": {
				"isIncomeAtTrusteeDiscretion": {
					"type": "boolean"
				},
				"shareOfIncome": {
					"type": "number"
				}
			},
			"required": [
				"isIncomeAtTrusteeDiscretion", "shareOfIncome"
			],
			"additionalProperties": false
		},
		"monetaryAssets": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"value": {
						"type": "number"
					}
				},
				"required": [
					"value"
				],
				"additionalProperties": false
			}
		},
		"propertyAssets": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"buildingLandName": {
						"type": "string"
					},
					"correspondenceAddress": {
						"$ref": "#/definitions/address"
					},
					"propertyLandValue": {
						"type": "number"
					},
					"propertyLandEvalDate": {
						"type": "string"
					}
				},
				"required": [
					"correspondenceAddress", "propertyLandValue"
				],
				"additionalProperties": false
			}
		},
		"shareAssets": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"shareNumber": {
						"type": "number"
					},
					"shareClass": {
						"type": "string"
					},
					"shareType": {
						"type": "string"
					},
					"companyRegistrationNumber": {
						"type": "string"
					},
					"shareValue": {
						"type": "number"
					}
				},
				"required": [
					"shareNumber", "shareClass", "shareType", "companyRegistrationNumber", "shareValue"
				],
				"additionalProperties": false
			}
		},
		"businessAssets": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"businessName": {
						"type": "string"
					},
					"payeRef": {
						"type": "string"
					},
					"businessDescription": {
						"type": "string"
					},
					"correspondenceAddress": {
						"$ref": "#/definitions/address"
					},
					"value": {
						"type": "number"
					},
					"lastValuationDate": {
						"type": "string"
					}
				},
				"required": [
					"businessName", "payeRef", "businessDescription", "correspondenceAddress", "value"
				],
				"additionalProperties": false
			}
		},
		"partnershipAssets": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"tradeOrProfession": {
						"type": "string"
					},
					"utr": {
						"type": "string"
					},
					"startOfPartnership": {
						"type": "string"
					}
				},
				"required": [
					"tradeOrProfession", "utr", "startOfPartnership"
				]
			}
		},
		"otherAssets": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"OtherAssetDescription": {
						"type": "string"
					},
					"value": {
						"type": "number"
					},
					"lastValuationDate": {
						"type": "string"
					}
				},
				"required": [
					"OtherAssetDescription", "value"
				],
				"additionalProperties": false
			}
		},
		"assets": {
			"additionalProperties": false,
			"anyOf": [
				{
					"required": [
						"monetaryAssets"
					]
				}, {
					"required": [
						"propertyAssets"
					]
				}, {
					"required": [
						"shareAssets"
					]
				}, {
					"required": [
						"businessAssets"
					]
				}, {
					"required": [
						"partnershipAssets"
					]
				}, {
					"required": [
						"otherAssets"
					]
				}
			]
		},
		"beneficiaries": {
			"anyOf": [
				{
					"required": [
						"charityBeneficiaries"
					]
				}, {
					"required": [
						"individualBeneficiaries"
					]
				}, {
					"required": [
						"NotYetBornBeneficiaries"
					]
				}, {
					"required": [
						"buildingLandBeneficiaries"
					]
				}, {
					"required": [
						"otherBeneficiaries"
					]
				}, {
					"required": [
						"employeeBeneficiaries"
					]
				}, {
					"required": [
						"directorBeneficiaries"
					]
				}
			]
		},
		"individualBeneficiaries": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"individual": {
						"$ref": "#/definitions/individual"
					},
					"isVulnerable": {
						"type": "boolean"
					},
					"income": {
						"$ref": "#/definitions/income"
					}
				},
				"required": [
					"individual", "isVulnerable", "income"
				],
				"additionalProperties": false
			}
		},
		"charityBeneficiaries": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"name": {
						"type": "string"
					},
					"number": {
						"type": "string"
					},
					"correspondenceAddress": {
						"$ref": "#/definitions/address"
					},
					"income": {
						"$ref": "#/definitions/income"
					}
				},
				"required": [
					"name", "number", "correspondenceAddress", "income"
				],
				"additionalProperties": false
			}
		},
		"NotYetBornBeneficiaries": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"beneficiaryDescription": {
						"type": "string"
					},
					"correspondenceAddress": {
						"$ref": "#/definitions/address"
					},
					"income": {
						"$ref": "#/definitions/income"
					}
				},
				"required": [
					"beneficiaryDescription", "correspondenceAddress", "income"
				],
				"additionalProperties": false
			}
		},
		"otherBeneficiaries": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"beneficiaryDescription": {
						"type": "string"
					},
					"correspondenceAddress": {
						"$ref": "#/definitions/address"
					},
					"income": {
						"$ref": "#/definitions/income"
					}
				},
				"required": [
					"beneficiaryDescription", "correspondenceAddress", "income"
				],
				"additionalProperties": false
			}
		},
		"buildingLandBeneficiaries": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"correspondenceAddress": {
						"$ref": "#/definitions/address"
					},
					"income": {
						"$ref": "#/definitions/income"
					}
				},
				"required": [
					"correspondenceAddress", "income"
				],
				"additionalProperties": false
			}
		},
		"employeeBeneficiaries": {
			"$ref": "#/definitions/individualBeneficiaries"
		},
		"directorBeneficiaries": {
			"$ref": "#/definitions/individualBeneficiaries"
		},
		"willIntestacyTrust": {
			"type": "object",
			"properties": {
				"assets": {
					"type": "object",
					"properties": {
						"monetaryAssets": {
							"$ref": "#/definitions/monetaryAssets"
						},
						"propertyAssets": {
							"$ref": "#/definitions/propertyAssets"
						},
						"shareAssets": {
							"$ref": "#/definitions/shareAssets"
						},
						"businessAssets": {
							"$ref": "#/definitions/businessAssets"
						},
						"otherAssets": {
							"$ref": "#/definitions/otherAssets"
						}
					},
					"anyOf": [
						{
							"required": [
								"monetaryAssets"
							]
						}, {
							"required": [
								"propertyAssets"
							]
						}, {
							"required": [
								"shareAssets"
							]
						}, {
							"required": [
								"businessAssets"
							]
						}, {
							"required": [
								"otherAssets"
							]
						}
					]
				},
				"beneficiaries": {
					"type": "object",
					"properties": {
						"individualBeneficiaries": {
							"$ref": "#/definitions/individualBeneficiaries"
						},
						"charityBeneficiaries": {
							"$ref": "#/definitions/charityBeneficiaries"
						},
						"NotYetBornBeneficiaries": {
							"$ref": "#/definitions/NotYetBornBeneficiaries"
						}
					},
					"additionalProperties": false,
					"anyOf": [
						{
							"required": [
								"individualBeneficiaries"
							]
						}, {
							"required": [
								"charityBeneficiaries"
							]
						}, {
							"required": [
								"NotYetBornBeneficiaries"
							]
						}
					]
				},
				"deceased": {
					"$ref": "#/definitions/deceased"
				}
			},
			"required": [
				"assets", "beneficiaries", "deceased"
			],
			"additionalProperties": false
		},
		"interVivoTrust": {
			"type": "object",
			"properties": {
				"assets": {
					"type": "object",
					"additionalProperties": false,
					"anyOf": [
						{
							"properties": {
								"propertyAssets": {
									"$ref": "#/definitions/propertyAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"shareAssets": {
									"$ref": "#/definitions/shareAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"businessAssets": {
									"$ref": "#/definitions/businessAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"otherAssets": {
									"$ref": "#/definitions/otherAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"partnershipAssets": {
									"$ref": "#/definitions/partnershipAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"monetaryAssets": {
									"$ref": "#/definitions/monetaryAssets"
								}
							},
							"additionalProperties": false
						}
					]
				},
				"settlors": {
					"$ref": "#/definitions/settlors"
				},
				"beneficiaries": {
					"type": "object",
					"additionalProperties": false,
					"anyOf": [
						{
							"properties": {
								"individualBeneficiaries": {
									"$ref": "#/definitions/individualBeneficiaries"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"charityBeneficiaries": {
									"$ref": "#/definitions/charityBeneficiaries"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"NotYetBornBeneficiaries": {
									"$ref": "#/definitions/NotYetBornBeneficiaries"
								}
							},
							"additionalProperties": false
						}
					]
				},
				"isHoldOverClaimed": {
					"type": "boolean"
				}
			},
			"required": [
				"assets", "settlors", "beneficiaries", "isHoldOverClaimed"
			],
			"additionalProperties": false
		},
		"heritageMaintenanceFundTrust": {
			"type": "object",
			"properties": {
				"assets": {
					"type": "object",
					"additionalProperties": false,
					"anyOf": [
						{
							"properties": {
								"monetaryAssets": {
									"$ref": "#/definitions/monetaryAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"propertyAssets": {
									"$ref": "#/definitions/propertyAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"shareAssets": {
									"$ref": "#/definitions/shareAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"otherAssets": {
									"$ref": "#/definitions/otherAssets"
								}
							},
							"additionalProperties": false
						}
					]
				},
				"settlors": {
					"$ref": "#/definitions/settlors"
				},
				"beneficiaries": {
					"type": "object",
					"additionalProperties": false,
					"anyOf": [
						{
							"properties": {
								"buildingLandBeneficiaries": {
									"$ref": "#/definitions/buildingLandBeneficiaries"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"otherBeneficiaries": {
									"$ref": "#/definitions/otherBeneficiaries"
								}
							},
							"additionalProperties": false
						}
					]
				},
				"isMultiPurposeIncome": {
					"type": "boolean"
				}
			},
			"required": [
				"assets", "settlors", "beneficiaries", "isMultiPurposeIncome"
			],
			"additionalProperties": false
		},
		"flatManagementSinkingFundTrust": {
			"type": "object",
			"properties": {
				"assets": {
					"type": "object",
					"additionalProperties": false,
					"anyOf": [
						{
							"properties": {
								"otherAssets": {
									"$ref": "#/definitions/otherAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"partnershipAssets": {
									"$ref": "#/definitions/partnershipAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"businessAssets": {
									"$ref": "#/definitions/businessAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"shareAssets": {
									"$ref": "#/definitions/shareAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"monetaryAssets": {
									"$ref": "#/definitions/monetaryAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"propertyAssets": {
									"$ref": "#/definitions/propertyAssets"
								}
							},
							"additionalProperties": false
						}
					]
				},
				"settlors": {
					"$ref": "#/definitions/settlors"
				},
				"beneficiaries": {
					"type": "object",
					"additionalProperties": false,
					"anyOf": [
						{
							"properties": {
								"buildingLandBeneficiaries": {
									"$ref": "#/definitions/buildingLandBeneficiaries"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"otherBeneficiaries": {
									"$ref": "#/definitions/otherBeneficiaries"
								}
							},
							"additionalProperties": false
						}
					]
				}
			},
			"required": [
				"assets", "settlors", "beneficiaries"
			],
			"additionalProperties": false
		},
		"employmentTrust": {
			"type": "object",
			"properties": {
				"assets": {
					"type": "object",
					"additionalProperties": false,
					"anyOf": [
						{
							"properties": {
								"businessAssets": {
									"$ref": "#/definitions/businessAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"shareAssets": {
									"$ref": "#/definitions/shareAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"propertyAssets": {
									"$ref": "#/definitions/propertyAssets"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"monetaryAssets": {
									"$ref": "#/definitions/monetaryAssets"
								}
							},
							"additionalProperties": false
						}
					]
				},
				"settlors": {
					"$ref": "#/definitions/settlors"
				},
				"beneficiaries": {
					"type": "object",
					"additionalProperties": false,
					"anyOf": [
						{
							"properties": {
								"individualBeneficiaries": {
									"$ref": "#/definitions/individualBeneficiaries"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"employeeBeneficiaries": {
									"$ref": "#/definitions/employeeBeneficiaries"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"directorBeneficiaries": {
									"$ref": "#/definitions/directorBeneficiaries"
								}
							},
							"additionalProperties": false
						}, {
							"properties": {
								"otherBeneficiaries": {
									"$ref": "#/definitions/otherBeneficiaries"
								}
							},
							"additionalProperties": false
						}
					]
				},
				"isEmployerFinancedRetirementBenefitScheme": {
					"type": "boolean"
				},
				"employerFinancedRetirementBenefitSchemeStartDate": {
					"description": "Employer Financed Retirement Benefit Scheme Start Date",
					"type": "string"
				}
			},
			"required": [
				"assets", "settlors", "beneficiaries", "isEmployerFinancedRetirementBenefitScheme"
			],
			"additionalProperties": false
		},
		"trust": {
			"type": "object",
			"properties": {
				"name": {
					"description": "The official name for the trust",
					"type": "string"
				},
				"correspondenceAddress": {
					"description": "The correspondence address for the trust",
					"$ref": "#/definitions/address"
				},
				"telephoneNumber": {
					"type": "string"
				},
				"currentYear": {
					"description": "The currrent year",
					"type": "string"
				},
				"commencementDate": {
					"description": "The commencement date of the trust",
					"type": "string"
				},
				"legality": {
					"description": "Which countries have legal authority over the trust",
					"$ref": "#/definitions/legality"
				},
				"isTrustUkResident": {
					"type": "boolean"
				},
				"isSchedule5A": {
					"type": "boolean"
				},
				"nonResidentType": {
					"type": "string"
				},
				"leadTrustee": {
					"$ref": "#/definitions/leadTrustee"
				},
				"trustees": {
					"$ref": "#/definitions/trustees"
				},
				"protectors": {
					"$ref": "#/definitions/protectors"
				},
				"naturalPeople": {
					"$ref": "#/definitions/naturalPeople"
				},
				"declaration": {
					"$ref": "#/definitions/declaration"
				}
			},
			"required": [
				"name", "correspondenceAddress", "telephoneNumber", "currentYear", "commencementDate", "legality", "isTrustUkResident", "leadTrustee", "trustees", "protectors", "naturalPeople", "declaration"
			],
			"additionalProperties": false,
			"oneOf": [
				{
					"properties": {
						"willIntestacyTrust": {
							"$ref": "#/definitions/employmentTrust"
						}
					},
					"additionalProperties": false
				}, {
					"properties": {
						"interVivoTrust": {
							"$ref": "#/definitions/interVivoTrust"
						}
					},
					"additionalProperties": false
				}, {
					"properties": {
						"heritageMaintenanceFundTrust": {
							"$ref": "#/definitions/heritageMaintenanceFundTrust"
						}
					},
					"additionalProperties": false
				}, {
					"properties": {
						"flatManagementSinkingFundTrust": {
							"$ref": "#/definitions/flatManagementSinkingFundTrust"
						}
					},
					"additionalProperties": false
				}, {
					"properties": {
						"employmentTrust": {
							"$ref": "#/definitions/employmentTrust"
						}
					},
					"additionalProperties": false
				}
			]
		},
		"estate": {
			"type": "object",
			"properties": {
				"deceased": {
					"$ref": "#/definitions/individual"
				},
				"personalRepresentative": {
					"type": "object",
					"properties": {
						"individual": {
							"$ref": "#/definitions/individual"
						},
						"isExecutor": {
							"type": "boolean"
						}
					},
					"additionalProperties": false
				},
				"isCreatedByWill": {
					"description": "Has the Trust been created by a will?",
					"type": "boolean"
				},
				"estateCriteriaMet": {
					"description": "Has the criteria for dealing with the estate / administration period on an informal basis been met?",
					"type": "boolean"
				},
				"adminPeriodFinishedDate": {
					"type": "boolean"
				},
				"incomeTaxDueMoreThan10000": {
					"description": "Is the total Income Tax and Capital Gains Tax due for the administration period more than £10000",
					"type": "boolean"
				},
				"saleOfEstateAssetsMoreThan250000": {
					"description": "If the date of death was before 5 April 2016, did more than £250000 come from the sale of the estate's assets by administrators or executors, in any one tax year?",
					"type": "boolean"
				},
				"saleOfEstateAssetsMoreThan500000": {
					"description": "If the date of death was before 5 April 2016, did more than £500000 come from the sale of the estate's assets by administrators or executors in any one tax year?",
					"type": "boolean"
				},
				"worthMoreThanTwoAndHalfMillionAtTimeOfDeath": {
					"description": "Was the estate worth more than £2.5 million at the date of death?",
					"type": "boolean"
				}
			},
			"required": [
				"isCreatedByWill", "estateCriteriaMet", "adminPeriodFinishedDate", "incomeTaxDueMoreThan10000"
			],
			"additionalProperties": false
		}
	}
}